# ChatGPT Telegram Bot

Этот проект представляет собой Telegram бота, использующего API OpenAI GPT-3.5 для генерации ответов на сообщения пользователей.

## Основные возможности

- Интеграция с OpenAI GPT-3.5
- Ограничение количества запросов (15 запросов на пользователя)
- Автоматический сброс счетчика запросов через 24 часа
- Уведомления о количестве оставшихся запросов
- Поддержка системных сообщений для контекста
- Сохранение контекста диалога
- Персонализированные ответы с обращением по имени

## Требования

- Python 3.7+
- Токен Telegram бота (получить у [@BotFather](https://t.me/BotFather))
- API ключ OpenAI (получить на [официальном сайте](https://platform.openai.com/))

## Установка и настройка

1. Клонируйте репозиторий:
```bash
git clone [URL вашего репозитория]
cd [название директории]
```

2. Создайте виртуальное окружение и активируйте его:
```bash
# Создание виртуального окружения
python -m venv venv

# Активация в Windows
venv\Scripts\activate

# Активация в Linux/MacOS
source venv/bin/activate
```

3. Установите зависимости из requirements.txt:
```bash
pip install -r requirements.txt
```

4. Создайте файл `.env` в корневой директории проекта:
```bash
# Создание файла .env
touch .env  # для Linux/MacOS
# или
type nul > .env  # для Windows
```

5. Добавьте в файл `.env` следующие строки:
```
BOT_TOKEN=ваш_токен_бота
OPENAI_API_KEY=ваш_ключ_api_openai
```

## Запуск бота

```bash
python main.py
```

## Структура проекта

```
├── main.py           # Основной файл с логикой бота
├── config.py         # Конфигурационные настройки
├── markups.py        # Файл с клавиатурами и разметкой
├── requirements.txt  # Зависимости проекта
├── .env             # Файл с переменными окружения (не включен в репозиторий)
└── README.md        # Документация проекта
```

## Основные функции

- `/start` - начало работы с ботом
- Обработка текстовых сообщений с помощью GPT-3.5
- Отслеживание лимитов запросов
- Автоматическое обновление счетчика запросов
- Сохранение контекста диалога
- Персонализированные ответы

## Безопасность

- Не храните токены и ключи API в коде
- Используйте `.env` файл для конфиденциальных данных
- Файл `.env` добавлен в `.gitignore`
- Регулярно обновляйте зависимости

## Возможные проблемы и их решение

1. **Ошибка импорта модулей**
   - Убедитесь, что все зависимости установлены
   - Проверьте активацию виртуального окружения

2. **Ошибки с токенами**
   - Проверьте наличие файла `.env`
   - Убедитесь в правильности токенов
   - Проверьте права бота в Telegram

3. **Превышение лимита запросов**
   - Подождите 24 часа для сброса счетчика
   - Лимит в 15 запросов установлен для каждого пользователя

## Лицензия

MIT

## Автор

[Ваше имя/организация]

## Поддержка

По всем вопросам обращайтесь:
- Email: [ваш email]
- Telegram: [@ваш_username] 